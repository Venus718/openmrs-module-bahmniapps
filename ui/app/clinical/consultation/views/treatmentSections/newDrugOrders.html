<section class="section-grid new-drug-order" ng-show="treatments.length > 0">
	<h2 class="section-title">New Prescription</h2>
	<ul class="table-mimic">
		<li ng-repeat="newTreatment in treatments" ng-class="{highlight : newTreatment.isBeingEdited, invalid: !newTreatment.validate()}">
			<div class="drug-details">
				<strong class="drug-name">{{newTreatment.getDisplayName()}}</strong>&nbsp;{{newTreatment.getDescriptionWithQuantity()}}
			</div>
			<div class="button-group-wrapper" >
				<div class="button-group">
                    <button ng-repeat="orderAttribute in newTreatment.orderAttributes" class="dispense-btn" ng-click="toggleDrugOrderAttribute(orderAttribute)">
                        <i class="icon-check" ng-show="orderAttribute.value"></i>
                        {{orderAttribute.name.substring(0,1)}}
                    </button>
                    <button ng-click="edit($index)"><i class="icon-edit"></i></button>
                    <button ng-confirm-click="remove($index)" confirm-message="Are you sure you want to remove?"><i class="icon-remove"></i></button>
                    <button class="toggle" ng-class="{'has-notes': newTreatment.additionalInstructions}"
                    ng-click="toggleShowAdditionalInstructions(newTreatment)" ng-hide="newTreatment.showAdditionalInstructions"><i class="icon-plus-sign"></i></button>
                    <button class="toggle" ng-class="{'has-notes': newTreatment.additionalInstructions}"
                    ng-click="toggleShowAdditionalInstructions(newTreatment)" ng-show="newTreatment.showAdditionalInstructions"><i class="icon-minus-sign"></i></button>
				</div>
			</div>
			<div class="start-date fr">
				<span>from {{newTreatment.effectiveStartDate | date: 'dd MMM yy'}}</span>
			</div>
	        <div ng-show="newTreatment.showAdditionalInstructions" class="notes inline-notes">
	            {{newTreatment.additionalInstructions}}
	        </div>
		</li>
	</ul>
</section>
