<div class="dhis-page">
    <section class="primary-section-grid">
        <bm-back-links></bm-back-links>
        <h1>Reports</h1>
        <table class="file-to-upload" ng-if="!tasks.isEmpty()">
            <thead>
            <tr>
                <th>Name</th>
                <th>Start Date
                    <input ng-model="default.startDate" date-converter class="form-field start-date" type="date"
                           ng-change="setDefault('startDate')">
                </th>
                <th>Stop Date
                    <input ng-model="default.stopDate" date-converter class="form-field start-date" type="date"
                           ng-change="setDefault('stopDate')">
                </th>
                <th>
                    Format
                    <select ng-model="default.responseType" ng-change="setDefault('responseType')"
                            ng-init="default.responseType='application/vnd.ms-excel'">
                        <option value="application/vnd.ms-excel" selected="selected">EXCEL</option>
                        <option value="application/pdf">PDF</option>
                        <option value="text/html">HTML</option>
                    </select>
                </th>
                <th>
                </th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="report in reports">
                <td>{{ report.name }}</td>
                <td><input date-converter class="form-field start-date" type="date"
                           ng-model="report.startDate"></td>
                <td><input date-converter class="form-field stop-date" type="date"
                           ng-model="report.stopDate"></td>
                <td>
                    <select ng-model="report.responseType" ng-init="report.responseType='application/vnd.ms-excel'">
                        <option value="application/vnd.ms-excel" selected="selected">EXCEL</option>
                        <option value="application/pdf">PDF</option>
                        <option value="text/html">HTML</option>
                    </select>
                </td>
                <td>
                    <button type="submit" class="run-report confirm" ng-click="runReport(report)">Run Report</button>
                </td>
            </tr>
            </tbody>
        </table>
    </section>

</div>