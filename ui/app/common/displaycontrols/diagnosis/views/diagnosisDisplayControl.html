<section id="diagnosisSection" class="block diagnosis" ng-class="{'more': allDiagnoses.show, 'hidden-print':!hasRuledOutDiagnoses}">
    <h2 class="section-title">{{title}}</h2>
    <table class="dashboard-table history-diagnosis">
        <tbody ng-repeat="diagnosis in allDiagnoses | primaryDiagnosisFirst" class="row" ng-class="{'hidden-print': diagnosis.diagnosisStatus}">
            <tr class="view-past" >
                <td class="name">
                    <span id="diagnosisName" class="diagnosis-name" ng-class="{'ruled-out': diagnosis.diagnosisStatus}">
                        {{diagnosis.getDisplayName()}}
                    </span>
                </td>
                <td class="view">
                        <span id="certainty" ng-hide="config.showCertainty == false" class="certainty">{{diagnosis.certainty}}</span>
                        <span id="order" ng-hide="config.showOrder == false" class="order">{{diagnosis.order}}</span>
                        <span id="status" class="status">{{diagnosis.diagnosisStatus}}</span>
                </td>
                <td id="diagnosisDate" class="date">{{diagnosis.diagnosisDateTime | date :'dd MMM yy'}}
                </td>
                <td class="toggle-btn">
                    <button ng-show="!diagnosis.comments && config.showDetailsButton" class="toggle fr" ng-click="toggle(diagnosis)"
                            ng-class="{'has-notes': diagnosis.comments}">
                        <i class="icon-plus-sign" ng-hide="diagnosis.showDetails"></i>
                        <i class="icon-minus-sign" ng-show="diagnosis.showDetails"></i>
                    </button>
                </td>
            </tr>
            <tr ng-show="diagnosis.comments">
                <td colspan="4" class="notes inline-notes">
                    <pre id="diagnosisComments" class="left">{{diagnosis.comments}}</pre>
                    <div class="footer-note right">
                        <span class="provider">
                            {{providerName(diagnosis)}} {{diagnosis.diagnosisDateTime | date :'hh:mm a'}}
                        </span>
                    </div>
                </td>
            </tr>
            <tr ng-show="diagnosis.showDetails">
                <td colspan="4" class="notes inline-notes">
                    <div class="footer-note right">
                        <span class="provider">
                            {{providerName(diagnosis)}} {{diagnosis.diagnosisDateTime | date :'hh:mm a'}}
                        </span>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
        <div ng-show="allDiagnoses && allDiagnoses.length == 0">
            <div class="placeholder-text">No {{title}} for this patient.</div>
        </div>
</section>
