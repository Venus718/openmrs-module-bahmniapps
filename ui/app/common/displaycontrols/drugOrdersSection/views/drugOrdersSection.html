<h2 class="has-toggle section-title" ng-if="config | titleTranslate" ng-click="toggleDisplay()">
    <i class="fa fa-caret-right" ng-hide="toggle"></i>
    <i class="fa fa-caret-down ng-hide" ng-show="toggle"></i>
    <span class="section-label">{{ config | titleTranslate}}</span>
</h2>
<p class="placeholder-text" ng-if="drugOrders && drugOrders.length == 0">{{'NO_DRUG_DETAILS_MESSAGE' | translate}} </p>
<table class="drug-order-table treatments-details-table" ng-show="toggle">
    <tr>
        <th ng-if="drugOrders.length > 0" ng-repeat="columnName in columnHeaders">{{columnName | translate}}</th>
        <th ng-if="config.showDetails">&nbsp;</th>
    </tr>
    <tbody ng-if="drugOrders.length > 0" ng-repeat="drugOrder in drugOrders">
        <tr ng-class="{active: drugOrder.isActive(), 'test-notes-parent': drugOrder.additionalInstructions, 'notes-open': drugOrder.showDetails}">
            <td ng-if="::shouldShow('drugName')" class="drug">
                <span>{{::drugOrder.drug.name}}</span>
            </td>
            <td ng-if="::shouldShow('dosage')">
                <span>{{::drugOrder.dosage}}</span>
            </td>
            <td ng-if="::shouldShow('route')">
                <span>{{::drugOrder.route}}</span>
            </td>
            <td ng-if="::shouldShow('frequency')">
                <span>{{::drugOrder.getFrequency()}}</span>
            </td>
            <td ng-if="::shouldShow('startDate')">
                <span>{{::drugOrder.effectiveStartDate | bahmniDate}}</span>
            </td>
            <td ng-if="::shouldShow('stopDate')">
                <span ng-if="drugOrder.isDiscontinuedOrStopped()">{{::drugOrder.effectiveStopDate | bahmniDate}} </span>
            </td>
            <td ng-if="::shouldShow('stopReason')">
                <span ng-if="drugOrder.orderReasonConcept">{{::drugOrder.orderReasonConcept.display || drugOrder.orderReasonConcept.name}}</span>
            </td>
            <td ng-if="::shouldShow('stopReasonNotes')">
                <span ng-if="drugOrder.orderReasonText">{{::drugOrder.orderReasonText}}</span>
            </td>
            <td class="toggle-btn" ng-click="toggle(drugOrder)"
               ng-if="config.showDetails">
                <button class="toggle fr">
                    <i class="fa fa-angle-down" ng-hide="drugOrder.showDetails"></i>
                    <i class="fa fa-angle-up" ng-show="drugOrder.showDetails"></i>
                </button>
            </td>
        </tr>
        <tr bm-show="drugOrder.showDetails" class="notes">
            <td colspan="8" class="notes inline-notes">
                <div class="footer-note right">
                    <span class="provider">
                        <provider-directive creator-name="{{drugOrder.creatorName}}" provider-name="{{drugOrder.provider.name}}"
                                            provider-date="drugOrder.effectiveStartDate"></provider-directive>
                    </span>
                </div>
            </td>
        </tr>
    </tbody>
</table>