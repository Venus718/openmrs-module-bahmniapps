<div class="dhis-page">

    <section class="primary-section-grid">
        <h1>Past Report Runs</h1>
        <button class="run-report confirm right" ng-click="refresh()">Refresh</button>

        <p class="no-visit" ng-if="tasks.isEmpty()">No previous report run</p>

        <table class="file-to-upload" ng-if="!tasks.isEmpty()">
            <thead>
            <tr>
                <th>Date</th>
                <th>Status</th>
                <th>Results</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="task in tasks">
                <td><strong>{{ task.dateCreated | bahmniDate }}</strong></td>
                <td><strong>{{ task.status }}</strong></td>
                <td><a ng-if="task.isCompleted()" ng-click="openReport(task.id)">Results</a></td>
            </tr>
            </tbody>
        </table>
    </section>


    <section class="section-grid">
        <form ng-submit="fireQueries()">
            <input date-converter class="form-field start-date" type="date" ng-model="report.startDate">

            <input date-converter class="form-field end-date" type="date" ng-model="report.endDate">

            <button class="run-report confirm" type="submit">Run Report</button>
        </form>
    </section>

</div>